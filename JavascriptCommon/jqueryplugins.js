Type.registerNamespace("Mscrm");Mscrm.JQueryPluginRegistrationHelper=function(){};Mscrm.JQueryPluginRegistrationHelper.registerPlugin=function(pluginType){var $v_0=Object,$$dict_2=pluginType;for(var $$key_3 in $$dict_2){var $v_1={key:$$key_3,value:$$dict_2[$$key_3]};if($v_1.key in $v_0)continue;eval(String.format("$.fn.{0} = {1}.{0}",$v_1.key,pluginType.getName()))}};Mscrm.JQueryPluginRegistrationHelper.initializeFieldsFromObjectCollections=function(instance,fields){if(IsNull(instance)||IsNull(fields))return;if(fields.length%2)throw Error.argument("fields","fields length invalid");for(var $v_0=instance,$v_1=0;$v_1<fields.length;$v_1+=2)$v_0[fields[$v_1]]=fields[$v_1+1]};Mscrm.JQueryPluginRegistrationHelper.registerjQueryPluginOptions=function(pluginOptionsClassName){eval(String.format("{0} = {1}",pluginOptionsClassName,Object.getName()))};function TextAreaAutoResizePlugin(){}TextAreaAutoResizePlugin.$$cctor=function(){Mscrm.JQueryPluginRegistrationHelper.registerPlugin(TextAreaAutoResizePlugin)};TextAreaAutoResizePlugin.textAreaAutoResize=function(){return this.filter("textarea").each(function($p1_0,$p1_1){var $v_0=$(this),$v_1=$v_0.width()-parseInt($v_0.css("paddingLeft"))-parseInt($v_0.css("paddingRight")),$v_2=$("<div></div>").css({position:"absolute",top:-1e4,left:0,"z-index":-1e4,width:$v_1<=0?"auto":$v_1,fontSize:$v_0.css("fontSize"),fontFamily:$v_0.css("fontFamily"),lineHeight:$v_0.css("lineHeight"),letterSpacing:$v_0.css("letterSpacing"),"word-wrap":"break-word",resize:"none"}).appendTo(document.body);$v_0.data("dimensionsDiv",$v_2);if(IsNull($p1_1.getAttribute("MinHeight")))window.setTimeout(function(){$v_2.text("W");$v_0.data("minHeight",$v_2.height()+2);$v_2.text("")},0);else $v_0.data("minHeight",parseInt($p1_1.getAttribute("MinHeight")));var $v_3=0;if(!IsNull($p1_1.getAttribute("DeltaHeight")))$v_3=parseInt($p1_1.getAttribute("DeltaHeight"));$v_0.data("deltaHeight",$v_3);$v_0.change(Mscrm.TextAreaAutoResizePluginHelper.$1).keyup(Mscrm.TextAreaAutoResizePluginHelper.$1);var $v_4=function($p2_0){var $v_5=$v_0.width();if($v_5>=0&&$v_2.width()!==$v_5){$v_2.width($v_5);Mscrm.TextAreaAutoResizePluginHelper.$2($v_0)}};$(window).resize($v_4);$v_0.data("windowResizeEventHandler",$v_4);Mscrm.TextAreaAutoResizePluginHelper.$2($v_0)})};TextAreaAutoResizePlugin.removeTextAreaAutoResize=function(){return this.filter("textarea").each(function($p1_0,$p1_1){var $v_0=$(this);$v_0.unbind("change",Mscrm.TextAreaAutoResizePluginHelper.$1).unbind("keyup",Mscrm.TextAreaAutoResizePluginHelper.$1);var $v_1=$v_0.data()["windowResizeEventHandler"];!IsNull($v_1)&&$(window).unbind("resize",$v_1);var $v_2=$v_0.data()["dimensionsDiv"];!IsNull($v_2)&&$v_2.remove();$v_0=null})};Mscrm.TextAreaAutoResizePluginHelper=function(){};Mscrm.TextAreaAutoResizePluginHelper.$1=function($p0){Mscrm.TextAreaAutoResizePluginHelper.$2($($p0.currentTarget))};Mscrm.TextAreaAutoResizePluginHelper.$2=function($p0){var $v_0=Mscrm.TextAreaAutoResizePluginHelper.$3($p0.val(),true);if($v_0.trimEnd().endsWith("<br />"))$v_0+="&nbsp;";var $v_1=$p0.data(),$v_2=$v_1["dimensionsDiv"];if($v_2.css("width")==="auto"){var $v_5=$p0.data()["windowResizeEventHandler"];$v_5(null)}$v_2.html($v_0);var $v_3=$v_1["minHeight"],$v_4=Math.max($v_2.height()+2+$v_1["deltaHeight"],$v_3);$p0.css("height",$v_4.toString())};Mscrm.TextAreaAutoResizePluginHelper.$3=function($p0,$p1){if(isNullOrEmptyString($p0))return "";if(IsNull($p1))$p1=false;for(var $v_0=$p0.replace("\r\n","\n").replace("\r","\n").split("\n"),$v_1=0;$v_1<$v_0.length;$v_1++)$v_0[$v_1]=isNullOrEmptyString($v_0[$v_1])?"":CrmEncodeDecode.CrmHtmlEncode($v_0[$v_1]);if($p1)return $v_0.join("<br />");else return $v_0.join("\r\n")};Mscrm.JQueryPluginRegistrationHelper.registerClass("Mscrm.JQueryPluginRegistrationHelper");TextAreaAutoResizePlugin.registerClass("TextAreaAutoResizePlugin");Mscrm.TextAreaAutoResizePluginHelper.registerClass("Mscrm.TextAreaAutoResizePluginHelper");TextAreaAutoResizePlugin.$$cctor()