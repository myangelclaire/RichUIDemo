Type.registerNamespace("Mscrm");Mscrm.IProcessAwareDataUnboundControl=function(){};Mscrm.IProcessAwareDataUnboundControl.registerInterface("Mscrm.IProcessAwareDataUnboundControl");Mscrm.IInlineAttribute=function(){};Mscrm.IInlineAttribute.registerInterface("Mscrm.IInlineAttribute");Mscrm.IInlineControlView=function(){};Mscrm.IInlineControlView.registerInterface("Mscrm.IInlineControlView");Mscrm.IInlineControlViewModel=function(){};Mscrm.IInlineControlViewModel.registerInterface("Mscrm.IInlineControlViewModel");Mscrm.IInlineEditControlView=function(){};Mscrm.IInlineEditControlView.registerInterface("Mscrm.IInlineEditControlView");Mscrm.EntityLogicalNames=function(){};Mscrm.ExceptionInformation=function(){};Mscrm.ExceptionInformation.prototype={RedirectToEdit:false,ErrorCode:0,DisplayText:null};Mscrm.InlineEditLoadOrder=function(){};Mscrm.InlineEditUtilities=function(){};Mscrm.InlineEditUtilities.get_activeControl=function(){return Mscrm.InlineEditUtilities.$0};Mscrm.InlineEditUtilities.set_activeControl=function(value){Mscrm.InlineEditUtilities.$0=value;return value};Mscrm.InlineEditUtilities.tryResetFocusOnActiveControl=function(){var $v_0=Xrm.Page.ui;if(IsNull($v_0))return;var $v_1=$v_0.get_currentControl();if(IsNull($v_1))return;$v_1.blur();!$v_1.get_disabled()&&$v_1.setFocus()};Mscrm.InlineEditUtilities.getLinkedDataObject=function(container){var $v_0=container.tmplItem();return $v_0.data};Mscrm.InlineEditUtilities.getEntityReference=function(jsonData){var $v_0=jsonData["_entity"],$v_1=Mscrm.InlineEditUtilities.$D($v_0);$v_1.Name=CrmEncodeDecode.CrmHtmlDecode($v_0.Name);$v_1.TypeDisplayName=CrmEncodeDecode.CrmHtmlDecode($v_0.TypeDisplayName);return $v_1};Mscrm.InlineEditUtilities.$D=function($p0){var $v_0=new Mscrm.EntityReference;$v_0.Id=$p0.Id;$v_0.Name=$p0.Name;$v_0.TypeCode=$p0.TypeCode;$v_0.TypeName=$p0.TypeName;$v_0.TypeDisplayName=$p0.TypeDisplayName;return $v_0};Mscrm.InlineEditUtilities.getData=function(entityData,attribute,property,doNotDecodeData){return Mscrm.InlineEditUtilities.getDataOrDefault(entityData,attribute,property,"",doNotDecodeData)};Mscrm.InlineEditUtilities.getDataOrDefault=function(entityData,attribute,property,defaultValue,doNotDecodeData){if(IsNull(doNotDecodeData))doNotDecodeData=false;var $v_0=entityData[attribute],$v_1=null;if(!IsNull($v_0)&&!IsNull($v_0[property])){$v_1=$v_0[property].toString();if(!doNotDecodeData)$v_1=CrmEncodeDecode.CrmHtmlDecode($v_1)}return isNullOrEmptyString($v_1)?defaultValue:$v_1};Mscrm.InlineEditUtilities.getProcessControlData=function(entityData,attribute,property,defaultValue){var $v_0=entityData[attribute],$v_1=null;if(!IsNull($v_0)&&!IsNull($v_0[property])){$v_1=$v_0[property].toString();$v_1=CrmEncodeDecode.CrmHtmlDecode($v_1)}defaultValue=Mscrm.InlineEditUtilities.$G(entityData,attribute,defaultValue)?"--":CrmEncodeDecode.CrmHtmlDecode(defaultValue);return isNullOrEmptyString($v_1)?defaultValue:$v_1};Mscrm.InlineEditUtilities.$G=function($p0,$p1,$p2){if(isNullOrEmptyString($p2))return false;var $v_0=$p0._entitydisabled;if(!IsNull($v_0)&&$v_0==="1")return true;var $v_1=$p0._entity;if(IsNull($v_1))return false;var $v_2=$v_1.Id,$v_3=$v_1.TypeName,$v_4=isNullOrEmptyString($v_2);if(!$v_4||isNullOrEmptyString($v_3))return false;if($v_3!=="lead")return false;return $p1==="parentaccountid"||$p1==="parentcontactid"};Mscrm.InlineEditUtilities.getCssClass=function(entityData,attribute,property){var $v_0=entityData[attribute],$v_1=null;if(!IsNull($v_0)&&!IsNull($v_0[property]))$v_1=$v_0[property].toString();return isNullOrEmptyString($v_1)?"ms-crm-Inline-EmptyValue":""};Mscrm.InlineEditUtilities.getInnerDataObject=function(entityData,innerDataObjectKey){var $v_0=entityData[innerDataObjectKey];if(!IsNull($v_0))return $v_0;else return null};Mscrm.InlineEditUtilities.getLookupValue=function(value){var $v_0=null;if(IsNull(value))return null;if(!IsNull(value["items"])){var $v_1=value["items"];$v_0=new Array($v_1.length);for(var $v_2=0;$v_2<$v_1.length;$v_2++){var $v_3=$v_1[$v_2];$v_0[$v_2]=Mscrm.InlineEditUtilities.$B($v_3)}}else{if(IsNull(value["oid"]))return null;$v_0=new Array(1);$v_0[0]=Mscrm.InlineEditUtilities.$B(value)}return $v_0};Mscrm.InlineEditUtilities.$B=function($p0){var $v_0=new LookupControlItem;$v_0.id=$p0["oid"];$v_0.type=$p0["otype"];$v_0.typename=$p0["otypename"];$v_0.name=Mscrm.InlineEditUtilities.getDecodedValue($p0);return $v_0};Mscrm.InlineEditUtilities.getRawValue=function(value,fallback){if(!IsNull(value))if("raw" in value)return value["raw"];else if(fallback&&"value" in value)return Mscrm.InlineEditUtilities.getDecodedValue(value);return null};Mscrm.InlineEditUtilities.getDefaultValue=function(value){var $v_0=null;if(!IsNull(value))if("defaultvalue" in value)$v_0=value["defaultvalue"];return $v_0};Mscrm.InlineEditUtilities.getDecodedValue=function(value,replaceBR){if(!IsNull(value))if("value" in value){var $v_0=value["value"];if(!IsNull($v_0)){var $v_1=CrmEncodeDecode.CrmHtmlDecode($v_0);if(replaceBR)$v_1=$v_1.split("<br>").join("\r");return CrmEncodeDecode.CrmHtmlDecode($v_1)}}return null};Mscrm.InlineEditUtilities.getDecodedStringValue=function(encodedValue){return Mscrm.InlineEditUtilities.getDecodedValue({value:encodedValue},false)};Mscrm.InlineEditUtilities.normalizeNewLineForTextArea=function(line){if(!isNullOrEmptyString(line)){line=line.split("\r\n").join("\r");line=line.split("\n").join("\r")}return line};Mscrm.InlineEditUtilities.replaceAndEncodeNewLineCharsToBreakHtmlTags=function(line){if(!isNullOrEmptyString(line))line=CrmEncodeDecode.CrmHtmlEncode(line).split("&#13;").join("<br>");return line};Mscrm.InlineEditCommonUtilities=function(){};Mscrm.InlineEditCommonUtilities.setIFramesSourceUrls=function(tab){var $v_0;if(IsNull(tab))$v_0=document.getElementsByTagName("iframe");else $v_0=tab.getElementsByTagName("iframe");if(!IsNull($v_0))for(var $v_1=0;$v_1<$v_0.length;$v_1++){var $v_2=$v_0[$v_1],$v_3=$v_2.attributes.getNamedItem("url");if(!IsNull($v_3)){var $v_4=$v_3.value;if($v_2.src!==$v_4){var $v_5=IsNull(tab)?Mscrm.InlineEditCommonUtilities.getTab($v_2):tab;if(!IsNull($v_5)&&XUI.Html.GetComputedStyle($v_5,"display")!=="none"){var $v_6=$v_2.attributes.getNamedItem("id");if(!IsNull($v_6)&&$v_6.value==="notescontrol")Mscrm.InlineEditCommonUtilities.$H($v_2);else Mscrm.InlineEditCommonUtilities.$F($v_4)&&Mscrm.InlineEditCommonUtilities.$I($v_2);$v_2.src=$v_4}}}}};Mscrm.InlineEditCommonUtilities.getTab=function(element){var $v_0=element;while(!IsNull($v_0)&&$v_0.className!=="ms-crm-InlineTabBody-Read")$v_0=$v_0.parentNode;return $v_0};Mscrm.InlineEditCommonUtilities.$F=function($p0){return !IsNull($p0)&&$p0.indexOf("grid.aspx")>0};Mscrm.InlineEditCommonUtilities.$I=function($p0){var $v_0=$p0.parentNode;while(!IsNull($v_0)){var $v_1=$v_0.attributes.getNamedItem("rowSpan");if(!IsNull($v_1)&&!isNullOrEmptyString($v_1.value)){$v_0.style.height="";break}$v_0=$v_0.parentNode}};Mscrm.InlineEditCommonUtilities.$H=function($p0){var $v_0=$p0;while(!IsNull($v_0)){var $v_1=$v_0.attributes.getNamedItem("rowSpan");if(!IsNull($v_1)&&!isNullOrEmptyString($v_1.value)){$p0.style.height=parseInt($v_1.value,10)*25+16+"px";break}$v_0=$v_0.parentNode}Mscrm.InlineEditCommonUtilities.$A($p0,0)};Mscrm.InlineEditCommonUtilities.$A=function($p0,$p1){if(!IsNull(Mscrm.FormInputControl)&&!IsNull(Mscrm.FormInputControl.NotesControlBehavior))Mscrm.CrmUIComponent.crmCreate(Mscrm.FormInputControl.NotesControlBehavior,null,null,null,$p0);else $p1<100&&window.setTimeout(function(){Mscrm.InlineEditCommonUtilities.$A($p0,$p1+1)},50)};Mscrm.AttributeRequiredLevel=function(){};Mscrm.ReadFormUIManager=function(){this.$2_0={}};Mscrm.ReadFormUIManager.prototype={$2_0:null,getFormType:function(){return 11},get_controls:function(){return this.$2_0},get_currentControl:function(){return Mscrm.InlineEditUtilities.$0},get_formTitle:function(){return $("#form_title_div .ms-crm-Form-Title-Data h1").html()},set_formTitle:function(value){$("#form_title_div .ms-crm-Form-Title-Data h1").text(value);setPageTitle(String.format(this.get_$E_0(),_edn,value));return value},get_$E_0:function(){return _readFormTitleMask},validateControlsForEntity:function(entityId,setFocus){var $$dict_2=this.$2_0;for(var $$key_3 in $$dict_2){var $v_0={key:$$key_3,value:$$dict_2[$$key_3]};if($v_0.value.get_dataContext().get_attribute().get_parentFormDataEntityId()===entityId){var $v_1=$v_0.value;if(!$v_1.get_doNotSubmit()&&!IsNull($v_1.get_validateResult())&&!$v_1.get_validateResult().isValid){if(setFocus)if($v_1.getVisible())$v_1.setFocus();else{var $v_2=$v_1.get_dataContext().get_attribute().get_firstAvailableControl();!IsNull($v_2)&&$v_2.getVisible()&&$v_2.setFocus()}return $v_1.get_validateResult()}}}return new Mscrm.ValidationResult(true,null)}};Mscrm.ReadFormDataManager=function(){};Mscrm.ReadFormDataManager.prototype={entity:null};Mscrm.ReadFormEntityWrapper=function(id,logicalName){this.$7_0=id;this.$8_0=logicalName};Mscrm.ReadFormEntityWrapper.prototype={$7_0:"",$8_0:"",getId:function(){return this.$7_0},getEntityName:function(){return this.$8_0}};Mscrm.InlineEditConstants=function(){};Type.registerNamespace("Mscrm.InlineEdit");Mscrm.InlineEdit.RefreshedEventArgs=function(jsonData,command){Mscrm.InlineEdit.RefreshedEventArgs.initializeBase(this);this.$3_1=jsonData;this.$1_1=command};Mscrm.InlineEdit.RefreshedEventArgs.prototype={$3_1:null,$1_1:0,get_jsonData:function(){return this.$3_1},get_entityReference:function(){return Mscrm.InlineEditUtilities.getEntityReference(this.$3_1)},get_command:function(){return this.$1_1}};Mscrm.InlineEdit.PreValidationEventArgs=function(entityId,command){Mscrm.InlineEdit.PreValidationEventArgs.initializeBase(this);this.$1_1=command;this.$6_1=entityId;this.$4_1=new Mscrm.ValidationResult(true,null)};Mscrm.InlineEdit.PreValidationEventArgs.prototype={$1_1:0,$4_1:null,$6_1:null,$5_1:false,get_autoSave:function(){return this.$5_1},set_autoSave:function(value){this.$5_1=value;return value},get_validationResult:function(){return this.$4_1},set_validationResult:function(value){this.$4_1=value;return value},get_command:function(){return this.$1_1},get_entityId:function(){return this.$6_1}};Mscrm.InlineEdit.QuickFormRefreshedEventsArgs=function(uniqueId,jsonData,command){Mscrm.InlineEdit.QuickFormRefreshedEventsArgs.initializeBase(this,[jsonData,command]);this.$9_2=uniqueId};Mscrm.InlineEdit.QuickFormRefreshedEventsArgs.prototype={$9_2:null,get_uniqueId:function(){return this.$9_2}};Mscrm.EntityLogicalNames.registerClass("Mscrm.EntityLogicalNames");Mscrm.ExceptionInformation.registerClass("Mscrm.ExceptionInformation");Mscrm.InlineEditLoadOrder.registerClass("Mscrm.InlineEditLoadOrder");Mscrm.InlineEditUtilities.registerClass("Mscrm.InlineEditUtilities");Mscrm.InlineEditCommonUtilities.registerClass("Mscrm.InlineEditCommonUtilities");Mscrm.AttributeRequiredLevel.registerClass("Mscrm.AttributeRequiredLevel");Mscrm.ReadFormUIManager.registerClass("Mscrm.ReadFormUIManager");Mscrm.ReadFormDataManager.registerClass("Mscrm.ReadFormDataManager");Mscrm.ReadFormEntityWrapper.registerClass("Mscrm.ReadFormEntityWrapper");Mscrm.InlineEditConstants.registerClass("Mscrm.InlineEditConstants");Mscrm.InlineEdit.RefreshedEventArgs.registerClass("Mscrm.InlineEdit.RefreshedEventArgs",Sys.EventArgs);Mscrm.InlineEdit.PreValidationEventArgs.registerClass("Mscrm.InlineEdit.PreValidationEventArgs",Sys.EventArgs);Mscrm.InlineEdit.QuickFormRefreshedEventsArgs.registerClass("Mscrm.InlineEdit.QuickFormRefreshedEventsArgs",Mscrm.InlineEdit.RefreshedEventArgs);Mscrm.EntityLogicalNames.Account="account";Mscrm.EntityLogicalNames.Competitor="competitor";Mscrm.EntityLogicalNames.Contact="contact";Mscrm.EntityLogicalNames.Incident="incident";Mscrm.EntityLogicalNames.Lead="lead";Mscrm.EntityLogicalNames.Opportunity="opportunity";Mscrm.EntityLogicalNames.Connection="connection";Mscrm.EntityLogicalNames.SystemUser="systemuser";Mscrm.EntityLogicalNames.PhoneCall="phonecall";Mscrm.InlineEditLoadOrder.onFormLoad=0;Mscrm.InlineEditLoadOrder.deferred=1;Mscrm.InlineEditLoadOrder.onDemand=2;Mscrm.InlineEditUtilities.$0=null;Mscrm.AttributeRequiredLevel.none=0;Mscrm.AttributeRequiredLevel.systemRequired=1;Mscrm.AttributeRequiredLevel.required=2;Mscrm.AttributeRequiredLevel.recommended=3;Mscrm.InlineEditConstants.DefaultEmptyValuePlaceholder="--";Mscrm.InlineEditConstants.SecuredReadMaskValue="*******";Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName="data-attributename";Mscrm.InlineEditConstants.HtmlAttributeForRelatedEntityLogicalName="data-relatedentityname";Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId="data-fdeid";Mscrm.InlineEditConstants.HtmlAttributeForFormId="data-formid";Mscrm.InlineEditConstants.HtmlAttributeForFormBegin="data-formstart";Mscrm.InlineEditConstants.HtmlAttributeForLinkControlBegin="data-linkcontrolstart";Mscrm.InlineEditConstants.HtmlAttributeForRelationshipName="data-qfrelname";Mscrm.InlineEditConstants.HtmlAttributeForRelationshipDirection="data-qfreldirection";Mscrm.InlineEditConstants.FormDataEntityIdPrefix="qf_fde_";Mscrm.InlineEditConstants.FormatStringForQuickFormJQueryTemplate="quickFormTemplate_{0}";Mscrm.InlineEditConstants.FormatStringForQuickFormDataObject="quickFormData_{0}";Mscrm.InlineEditConstants.JQueryTemplateNameForMainPage="rootJQueryTemplate";Mscrm.InlineEditConstants.JQueryTemplateNameForCommandBar="commandBarTemplate";Mscrm.InlineEditConstants.HtmlAttributeForUniqueId="data-uniqueid";Mscrm.InlineEditConstants.HtmlAttributeForControlMode="data-controlmode";Mscrm.InlineEditConstants.HtmlAttributeForLayout="data-layout";Mscrm.InlineEditConstants.HtmlAttributeForRelationshipRoleOrdinal="data-relationshiproleordinal";Mscrm.InlineEditConstants.HtmlAttributeForQuickFormAttributeLogicalName="data-qfattribute";Mscrm.InlineEditConstants.HtmlAttributeForParentFormDataEntityId="data-parentfdeid";Mscrm.InlineEditConstants.HtmlAttributeForRelatedEntityLookupType="lookupType";Mscrm.InlineEditConstants.IsDataUnboundControl="isDataUnboundControl";Mscrm.InlineEditConstants.IsEligibleForMarkComplete="isEligibleForMarkComplete";Mscrm.InlineEditConstants.HtmlAttributeForPicklistType="data-picklisttype";Mscrm.InlineEditConstants.HtmlAttributeForErrorDisplayContainer="data-errorflyoutcontainer"